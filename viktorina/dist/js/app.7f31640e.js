(function(e){function t(t){for(var n,a,o=t[0],u=t[1],c=t[2],d=0,f=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var u=r[o];0!==s[u]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},s={app:0},i=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("85ec"),s=r.n(n);s.a},"0761":function(e,t,r){"use strict";var n=r("cb2a"),s=r.n(n);s.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"container"},["quiz"==e.state?r("ProgressBar",{attrs:{number:e.stage,total:e.questions.length}}):e._e(),r("transition-group",{attrs:{name:"slide",tag:"div"}},["start"==e.state?r("StartScreen",{key:"start",attrs:{bg:e.defaultBg,bgMobile:e.defaultBgMobile,mobile:e.isMobile,title:e.title},on:{start:e.goToQuiz}}):"quiz"==e.state?r("Question",{key:e.stage,attrs:{question:e.currentQuestion.question,answers:e.currentQuestion.answers,correctAnswer:e.currentQuestion.correctAnswer,correctText:e.currentQuestion.correctText,incorrectText:e.currentQuestion.incorrectText,answerType:e.currentQuestion.answerType,stage:e.stage,part:e.part,bg:e.currentQuestion.bg||e.defaultBg,bgMobile:e.currentQuestion.bgMobile||e.defaultBgMobile,mobile:e.isMobile},on:{answer:e.getAnswer,next:e.next}}):"results"==e.state?r("FinalScreen",{key:"finish",attrs:{result:e.testResult,mobile:e.isMobile,bg:e.defaultBg,bgMobile:e.defaultBgMobile},on:{again:e.restart}}):e._e()],1)],1)])},i=[],a=(r("4de4"),r("4160"),r("c975"),r("a15b"),r("ac1f"),r("466d"),r("159b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition-group",{key:e.stage,staticClass:"fullscreen question-slide",style:e.getBg,attrs:{name:"slide",tag:"div"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:"question"==e.part,expression:"part == 'question'"}],key:"part__question",staticClass:"question-part"},[r("div",{staticClass:"question-header"},[e._v(e._s(e.question))]),r("div",{staticClass:"question-items"},e._l(e.answers,(function(t,n){return r("div",{key:n,staticClass:"answer-item"},["checkbox"===e.answerType?r("input",{directives:[{name:"model",rawName:"v-model",value:e.userAnswer,expression:"userAnswer"}],key:n,attrs:{name:"question",id:t,placeholder:t,type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.userAnswer)?e._i(e.userAnswer,t)>-1:e.userAnswer},on:{change:[function(r){var n=e.userAnswer,s=r.target,i=!!s.checked;if(Array.isArray(n)){var a=t,o=e._i(n,a);s.checked?o<0&&(e.userAnswer=n.concat([a])):o>-1&&(e.userAnswer=n.slice(0,o).concat(n.slice(o+1)))}else e.userAnswer=i},function(t){return t.preventDefault(),e.sendUserData(t)}]}}):"radio"===e.answerType?r("input",{directives:[{name:"model",rawName:"v-model",value:e.userAnswer,expression:"userAnswer"}],key:n,attrs:{name:"question",id:t,placeholder:t,type:"radio"},domProps:{value:t,checked:e._q(e.userAnswer,t)},on:{change:[function(r){e.userAnswer=t},function(t){return t.preventDefault(),e.sendUserData(t)}]}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.userAnswer,expression:"userAnswer"}],key:n,attrs:{name:"question",id:t,placeholder:t,type:e.answerType},domProps:{value:t,value:e.userAnswer},on:{change:function(t){return t.preventDefault(),e.sendUserData(t)},input:function(t){t.target.composing||(e.userAnswer=t.target.value)}}}),r("label",{attrs:{for:t}},[r("div",{staticClass:"num"},[e._v(e._s(n+1))]),r("div",{staticClass:"question-text"},[e._v(e._s(t))])])])})),0)]),r("div",{directives:[{name:"show",rawName:"v-show",value:"answer"==e.part,expression:"part == 'answer'"}],key:"part__answer",staticClass:"answer-part"},[r("div",{staticClass:"answer-header"},[e._v(e._s(e.answerHeader))]),r("div",{staticClass:"answer-text"},[e._v(e._s(e.answerText))]),r("div",{staticClass:"btn-container"},[r("button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.goNext(t)}}},[r("span",[e._v("Далее")])])])])])}),o=[],u={name:"Question",props:["question","answers","answerType","stage","bg","bgMobile","mobile","part","correctAnswer","incorrectText","correctText"],data:function(){return{userAnswer:[],animation:!1}},computed:{getBg:function(){var e=this.mobile?this.bgMobile:this.bg;return{"background-image":"url(".concat(e,")")}},answerHeader:function(){return this.isCorrectAnswer()?"Верный ответ":"Неверный ответ"},answerText:function(){return this.isCorrectAnswer()?this.correctText:this.incorrectText}},methods:{sendUserData:function(){this.$emit("answer",{answer:this.userAnswer})},goNext:function(){this.$emit("next",{})},isCorrectAnswer:function(){return Array.isArray(this.userAnswer)?this.correctAnswer.join()==this.userAnswer.join():-1!==this.correctAnswer.indexOf(this.userAnswer)}},updated:function(){}},c=u,l=(r("697b"),r("2877")),d=Object(l["a"])(c,a,o,!1,null,"ac1b1436",null),f=d.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fullscreen",style:e.getBg},[r("div",{staticClass:"slide-title"},[r("span",[e._v(e._s(e.title))])]),r("button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.start(t)}}},[r("span",[e._v("Начать тест")])])])},g=[],h={name:"StartScreen",props:["bg","bgMobile","mobile","title"],data:function(){return{}},methods:{start:function(){this.$emit("start",{})}},computed:{getBg:function(){var e=this.mobile?this.bgMobile:this.bg;return{"background-image":"url(".concat(e,")")}}}},w=h,b=(r("c9a5"),Object(l["a"])(w,p,g,!1,null,"42c008d2",null)),v=b.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fullscreen",style:e.getBg},[r("div",{staticClass:"final-slide"},[r("div",{staticClass:"slide-title"},[r("span",[e._v(e._s(e.result.title))])]),r("div",{staticClass:"slide-text",domProps:{innerHTML:e._s(e.result.html)}})])])},A=[],y={name:"FinalScreen",props:["result","bg","bgMobile","mobile"],data:function(){return{isCorrectClass:[]}},computed:{getBg:function(){var e=this.mobile?this.bgMobile:this.bg;return{"background-image":"url(".concat(e,")")}}},methods:{}},x=y,_=(r("a162"),Object(l["a"])(x,m,A,!1,null,"4d40e36c",null)),q=_.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"progress-root"}},e._l(e.total,(function(t){return r("div",{key:t,staticClass:"progress-element",class:{active:t<=e.number+1}})})),0)},T=[],C={name:"ProgressBar",props:["number","total"]},M=C,B=(r("0761"),Object(l["a"])(M,k,T,!1,null,"109eed1a",null)),O=B.exports,j={name:"app",components:{ProgressBar:O,Question:f,StartScreen:v,FinalScreen:q},data:function(){return{defaultBg:"img/pictures-1.jpg",defaultBgMobile:"img/pictures_mobile-1.jpg",questions:[],resultTexts:[],stage:0,state:"start",part:"question",title:"Насколько хорошо вы знаете Арктику?",timeout:null}},methods:{goToQuiz:function(){this.stage=0,this.state="quiz"},getAnswer:function(e){var t=this.questions[this.stage];Array.isArray(e.answer)?t.userAnswer=e.answer:t.userAnswer.push(e.answer),t.userAnswer.sort(),t.correctAnswer.sort(),this.part="answer",this.timeout=setTimeout(this.next,5e3)},next:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.stage==this.questions.length-1?this.state="results":(this.part="question",this.stage++)},restart:function(){this.stage=0,this.state="start",this.part="question",this.questions.forEach((function(e){e.userAnswer.length=0}))},checkAnswer:function(e){return Array.isArray(e.userAnswer)?e.correctAnswer.join()==e.userAnswer.join():-1!==e.correctAnswer.indexOf(e.userAnswer)}},computed:{currentQuestion:function(){return this.questions[this.stage]||{}},isMobile:function(){var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};return e.any()},correctAnswersCount:function(){return this.questions.filter(this.checkAnswer).length},testResult:function(){var e=this;return this.resultTexts.filter((function(t){return t.from<=e.correctAnswersCount&&e.correctAnswersCount<=t.to}))[0]}},created:function(){var e=window.testData;"undefined"!==typeof e&&(Array.isArray(e.questions)&&e.questions.length&&(this.questions=e.questions),Array.isArray(e.resultTexts)&&e.resultTexts.length&&(this.resultTexts=e.resultTexts))}},P=j,S=(r("034f"),Object(l["a"])(P,s,i,!1,null,null,null)),Q=S.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(Q)}}).$mount("#app")},"697b":function(e,t,r){"use strict";var n=r("c1a7"),s=r.n(n);s.a},"72b6":function(e,t,r){},"85ec":function(e,t,r){},a162:function(e,t,r){"use strict";var n=r("72b6"),s=r.n(n);s.a},c1a7:function(e,t,r){},c9a5:function(e,t,r){"use strict";var n=r("e5b4"),s=r.n(n);s.a},cb2a:function(e,t,r){},e5b4:function(e,t,r){}});
//# sourceMappingURL=app.7f31640e.js.map